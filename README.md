# 資産形成シミュレーター (Wealth Trajectory Simulator)

**~~[公開リンク (準備中)]()~~** | **[GitHubリポジトリ](https://github.com/nishipippi/asset-simulator)**

これは、モンテカルロ法を用いてあなたの資産が将来どのように推移するかを視覚化するための金融シミュレーターです。積立期間や取崩期間などのフェーズを自由にカスタマイズし、確率に基づいた資産予測を確認できます。

## ✨ 主な機能

- **モンテカルロ法によるシミュレーション**: 数千〜数万通りのランダムなシナリオを生成し、より現実に近い将来の資産を予測します。
- **ブロックベースの計画立案**: 「積立期間」「取崩期間」といった人生のフェーズをブロックとして追加・削除・並べ替えが可能です。
- **カスタマイズ可能なパラメータ**: 各ブロックで以下の値を自由に設定できます。
  - 期間（年）
  - 毎月の積立額または取崩額
  - 年次リターン（%）
  - 年次リスク（%）
- **インタラクティブなグラフ表示**:
  - **資産推移グラフ**: シミュレーション結果の中央値、25パーセンタイル、75パーセンタイルの資産推移を時系列で表示します。
  - **最終資産の分布グラフ**: シミュレーション終了時点での資産額がどの範囲に分布するかをヒストグラムで確認できます。
- **リスク分析**: 計画終了時に資産が枯渇してしまう「破綻率」を計算し、計画の安全性を評価します。
- **ドラッグ＆ドロップ**: 計画のフェーズを直感的にドラッグ＆ドロップで並べ替えできます。
- **レスポンシブデザイン**: PCでもスマートフォンでも快適に利用できます。

## 🚀 使い方

1.  **全体設定**:
    - 「初期資産」に現在の資産額を入力します。
    - 「シミュレーション回数」を設定します（回数が多いほど精度が上がりますが、計算に時間がかかります）。
2.  **資産計画の作成**:
    - 「フェーズを追加」ボタンで、積立や取崩の期間を追加します。
    - 各フェーズ（ブロック）で「期間」「毎月の積立/取崩額」「年次リターン」「年次リスク」を編集します。
      - 取崩額はマイナスの数値で入力します（例: -100000）。
    - ドラッグハンドラ（ブロック左のアイコン）を使って、フェーズの順番を自由に入れ替えられます。
3.  **シミュレーション実行**:
    - 画面下部の「シミュレーション実行」ボタンをクリックします。
4.  **結果の分析**:
    - 右側に表示されるグラフと破綻率を見て、あなたの資産計画を評価します。
    - ヒストグラム下のスライダーを動かすことで、外れ値を除いた分布を確認することも可能です。

## 🛠️ セットアップ方法

このプロジェクトは [Vite](https://vitejs.dev/) を使用しています。ローカル環境で実行するには、以下の手順に従ってください。

1.  **リポジトリをクローンする:**
    ```bash
    git clone https://github.com/nishipippi/asset-simulator.git
    ```
2.  **プロジェクトディレクトリに移動する:**
    ```bash
    cd asset-simulator
    ```
3.  **依存関係をインストールする:**
    ```bash
    npm install
    ```
4.  **開発サーバーを起動する:**
    ```bash
    npm run dev
    ```
    これで、ブラウザで `http://localhost:5173` (またはターミナルに表示されたアドレス) を開くと、アプリケーションが表示されます。

## 💻 使用技術

- **ビルドツール**: Vite
- **フロントエンド**: React, TypeScript
- **スタイリング**: Tailwind CSS
- **グラフ**: Recharts

## 📁 プロジェクト構成

```
.
├── index.html                # メインHTMLファイル
├── metadata.json             # アプリケーションメタデータ
├── Readme.md                 # このファイル
├── components/               # Reactコンポーネント
│   ├── icons/                # アイコンコンポーネント
│   ├── Header.tsx
│   ├── HistogramChart.tsx
│   ├── SimulationBlock.tsx
│   ├── SimulationChart.tsx
│   └── SimulationControls.tsx
├── services/                 # ビジネスロジック
│   └── monteCarloService.ts  # モンテカルロシミュレーションのコアロジック
├── types.ts                  # TypeScriptの型定義
└── index.tsx                 # アプリケーションのエントリーポイント
```
